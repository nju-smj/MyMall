(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-601de25f","chunk-efd50d9a"],{"0053":function(t,e,o){"use strict";o("5c99")},"07e0":function(t,e,o){"use strict";o("96dd")},"46ed":function(t,e,o){"use strict";o.r(e);var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"nav-bar"},[o("div",{staticClass:"left"},[t._t("left")],2),o("div",{staticClass:"middle"},[t._t("middle")],2),o("div",{staticClass:"right"},[t._t("right")],2)])},r=[],a={name:"MymallNavbar"},i=a,n=(o("07e0"),o("2877")),c=Object(n["a"])(i,s,r,!1,null,"d4dd7b5c",null);e["default"]=c.exports},"5c99":function(t,e,o){},8520:function(t,e,o){},"8b70":function(t,e,o){"use strict";o("8520")},"96dd":function(t,e,o){},"9bd0":function(t,e,o){"use strict";var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"tabControl"},t._l(t.lists,(function(e,s){return o("div",{staticClass:"tabControlItem",class:{active:t.curIndex==s},on:{click:function(e){return t.doclick(s)}}},[o("span",[t._v(t._s(e))])])})),0)},r=[],a={name:"MymallTabcontrol",data:function(){return{curIndex:0}},props:{lists:{type:Array,default:function(){return[]}}},methods:{doclick:function(t){this.curIndex=t,this.$emit("goodsClick",t)}}},i=a,n=(o("c35d"),o("2877")),c=Object(n["a"])(i,s,r,!1,null,"5fb8c8e0",null);e["a"]=c.exports},a27e:function(t,e,o){"use strict";o("e190")},b4ed:function(t,e,o){},c35d:function(t,e,o){"use strict";o("b4ed")},e190:function(t,e,o){},f4ba:function(t,e,o){"use strict";o.r(e);var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"category"},[o("category-nav-bar",{staticClass:"category-nav"}),o("div",{staticClass:"category-middle"},[o("better-scroll",{ref:"categoryBs",staticClass:"category-bs",attrs:{probeType:3}},[o("category-left-cards",{attrs:{types:t.allTypes,curIndex:parseInt(t.curIndex)},on:{typeItemClick:t.doTypeItemClick}})],1),o("better-scroll",{ref:"categoryBs2",staticClass:"category-bs-2 category-middle-right",attrs:{probeType:3},on:{nowScroll:t.doNowScroll}},[o("category-right-list",{ref:"categoryRL",attrs:{"goods-list":t.rightGoods},on:{topRightImgLoad:t.doTRLoad,firstTabClick:t.doFirTabClick}})],1)],1),o("tab-control",{directives:[{name:"show",rawName:"v-show",value:t.isTab2Show,expression:"isTab2Show"}],ref:"categoryTab2",staticClass:"category-tab-control-2",attrs:{lists:["流行","新款","精品"]},on:{goodsClick:t.goodsClick}}),o("back-top",{directives:[{name:"show",rawName:"v-show",value:t.isBackToTopShow,expression:"isBackToTopShow"}],nativeOn:{click:function(e){return t.backToTop(e)}}})],1)},r=[],a=(o("d3b7"),o("3ca3"),o("ddb0"),o("2231")),i=o("9bd0"),n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("nav-bar",{scopedSlots:t._u([{key:"middle",fn:function(){return[o("div",[t._v("商品分类")])]},proxy:!0}])})],1)},c=[],l=o("46ed"),d={name:"MymallCategorynavbar",components:{NavBar:l["default"]}},u=d,f=o("2877"),p=Object(f["a"])(u,n,c,!1,null,"4cd96638",null),y=p.exports,h=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"category-left-cards"},t._l(t.types,(function(e,s){return o("div",{key:s,staticClass:"type-item",class:{"item-active":s==t.curIndex},on:{touchend:function(e){return t.doItemClick(s)}}},[t._v(t._s(e.title))])})),0)},g=[],b=(o("a9e3"),{name:"MymallCategoryleftcards",props:{types:{type:Array,default:function(){return[]}},curIndex:{type:Number,default:0}},methods:{doItemClick:function(t){this.$emit("typeItemClick",t)}}}),m=b,T=(o("8b70"),Object(f["a"])(m,h,g,!1,null,"25769554",null)),C=T.exports,v=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"category-right-list"},[o("category-right-top",{attrs:{topItems:t.goodsList.top},on:{topRightLoad:t.doTopRightLoad}}),o("tab-control",{ref:"categoryRLTab",staticClass:"category-tab-control",attrs:{lists:["流行","新款","精品"]},on:{goodsClick:t.doGoodsClick}}),o("goods-list",{attrs:{"goods-list":t.goodsList[t.numToStr(t.subCurIndex)]}})],1)},k=[],I=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"category-right-top"},t._l(t.topItems,(function(e,s){return o("div",{key:s},[o("div",{staticClass:"RT-item"},[o("a",{attrs:{href:e.link}},[o("img",{attrs:{src:e.image},on:{load:t.doLoad}})]),o("div",[t._v(t._s(e.title))])])])})),0)},x=[],w={name:"MymallCategoryrighttop",props:{topItems:{type:Array,default:[]}},methods:{doLoad:function(){this.$emit("topRightLoad")}}},_=w,L=(o("0053"),Object(f["a"])(_,I,x,!1,null,"4b269651",null)),$=L.exports,R=o("6d71"),S={name:"MymallCategoryrightlist",props:{goodsList:{type:Object,default:function(){return{}}}},data:function(){return{subCurIndex:0}},components:{CategoryRightTop:$,TabControl:i["a"],GoodsList:R["a"]},methods:{doGoodsClick:function(t){this.subCurIndex=t,this.$emit("firstTabClick",t)},numToStr:function(t){switch(t){case 0:return"pop";case 1:return"new";case 2:return"sell"}},doTopRightLoad:function(){this.$emit("topRightImgLoad")}}},B=S,G=Object(f["a"])(B,v,k,!1,null,"93d92fa4",null),O=G.exports,j=o("fdd6"),N=o("eecb"),E=o("1bab");function M(){return Object(E["a"])({url:"/category"})}function W(t){return Object(E["a"])({url:"/subcategory",params:{maitKey:t}})}function P(t,e){return Object(E["a"])({url:"/subcategory/detail",params:{miniWallkey:t,type:e}})}var Y=o("5002"),A={name:"MymallCategory",data:function(){return{allTypes:[],curIndex:0,subCurIndex:0,rightGoods:{top:[],new:[],sell:[],pop:[]},isTab2Show:!1,firstTabPosY:0,isBackToTopShow:!1}},components:{CategoryNavBar:y,CategoryLeftCards:C,BetterScroll:a["a"],CategoryRightList:O,TabControl:i["a"],BackTop:j["a"]},created:function(){var t=this;M().then((function(e){t.allTypes=e.data.category.list})).then((function(){var e=t.allTypes[t.curIndex].maitKey;return W(e)})).then((function(e){return t.rightGoods.top=e.data.list,Promise.all([P(t.allTypes[t.curIndex].miniWallkey,"new"),P(t.allTypes[t.curIndex].miniWallkey,"pop"),P(t.allTypes[t.curIndex].miniWallkey,"sell")])})).then((function(e){t.rightGoods.new=e[0],t.rightGoods.pop=e[1],t.rightGoods.sell=e[2]}))},methods:{doTypeItemClick:function(t){var e=this;if(this.curIndex!=t){this.curIndex=t;var o=this.allTypes[t].maitKey;W(o).then((function(t){return e.rightGoods.top=t.data.list,Promise.all([P(e.allTypes[e.curIndex].miniWallkey,"new"),P(e.allTypes[e.curIndex].miniWallkey,"pop"),P(e.allTypes[e.curIndex].miniWallkey,"sell")])})).then((function(t){e.rightGoods.new=t[0],e.rightGoods.pop=t[1],e.rightGoods.sell=t[2]}))}this.firstTabPosY=this.$refs.categoryBs2.$el.querySelector(".category-tab-control").offsetTop},throttleRefresh:function(){return Object(Y["b"])(this.$refs.categoryBs2.refresh,1e3)},doNowScroll:function(t){this.throttleRefresh(),this.isTab2Show=-t.y>=this.firstTabPosY,this.isBackToTopShow=t.y<-1e3},doTRLoad:function(){this.firstTabPosY=this.$refs.categoryBs2.$el.querySelector(".category-tab-control").offsetTop},doFirTabClick:function(t){this.$refs.categoryTab2.curIndex=t},goodsClick:function(t){this.$refs.categoryRL.$refs.categoryRLTab.curIndex=t,this.$refs.categoryRL.subCurIndex=t}},mixins:[N["a"]]},K=A,q=(o("a27e"),Object(f["a"])(K,s,r,!1,null,"e102892e",null));e["default"]=q.exports}}]);
//# sourceMappingURL=chunk-601de25f.a13bb70b.js.map